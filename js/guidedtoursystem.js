function GuidedTourSystem($parent){var _parent=$parent;var _this=this;var browserfilesGuide;var surfthewebGuide;var checkemailGuide;var wpswGuide;var wpssGuide;var wpspGuide;var osGuide;var pictureGuide;var taiqiuGuide;var arrowClicked=false;var welcomeGuide;var guides;var currentIndex=-1;var guideCount=0;this.init=function(){homeGuide={system:"welcome",icon:null,title:null,desc:'We hope you\'ve enjoyed the Ubuntu online tour. <a href="http://www.ubuntu.com/download/ubuntu/download#tour" target="_blank">Ready to download?</a> or <a href="/ubuntu/take-the-tour" >Back to the site</a>',hash:"#"};browserfilesGuide={appid:"701",name:"我的电脑",url:"page/computer.html",system:"browserfilesGuide",icon:"computer.png",title:"Browse files",hash:"browser-files",width:1100,height:567};checkemailGuide={appid:"714",name:"邮件客户端",url:"page/mail.html",system:"checkemailGuide",icon:"mail.png",title:"Check email",hash:"check-email",width:699,height:499,};surfthewebGuide={appid:"702",name:"火狐浏览器",url:"page/firefox.html",system:"surfthewebGuide",icon:"firefox.png",title:"Surf the web",hash:"surf-the-web",width:810,height:510,};wpswGuide={appid:"703",name:"WPS文字",url:"page/wps_w.html",system:"wpswGuide",icon:"wps_w.png",title:"View photos",hash:"view-photos",width:1100,height:586,};wpssGuide={appid:"704",name:"WPS表格",url:"page/wps_s.html",system:"wpssGuide",icon:"wps_s.png",title:"Find apps",hash:"find-apps",width:1100,height:586,};wpspGuide={appid:"705",name:"WPS演示",url:"page/wps_p.html",system:"wpspGuide",icon:"wps_p.png",title:"Create documents",hash:"create-documents",width:1100,height:586,};osGuide={appid:"706",name:"操作系统平台",url:"page/visual.html",system:"osGuide",icon:"win.png",title:"Create spreadsheets",hash:"create-spreadsheets",width:770,height:530,};pictureGuide={appid:"1012",name:"图片查看器",url:"page/gthumb.html",system:"pictureGuide",icon:"gthumb.png",title:"Create presentations",hash:"create-presentations",width:1100,height:567,};taiqiuGuide={appid:"1019",name:"台球",url:"page/taiqiu.html",system:"taiqiuGuide",icon:"gtaiqiu.png",title:"Watch videos",hash:"watch-video",width:1100,height:569,};guides=new Array(browserfilesGuide,checkemailGuide,surfthewebGuide,wpswGuide,wpssGuide,wpspGuide,osGuide,pictureGuide,taiqiuGuide);guideCount=guides.length;$("#tour-guide .next-button").bind("click",function(){if(!$(this).hasClass("disabled")){_this.next()}});$("#tour-guide .explore-to-welcome").bind("click",function(){$("#welcome").show()});$("#tour-guide .prev-button").bind("click",function(){if(!$(this).hasClass("disabled")){_this.prev()}});$("#tour-guide .explore-to-download").bind("click",function(){$(".download-window").show()});this.update()};this.close=function(){_parent.closeAllWindows(closeAllWindows)};this.setSystem=function($system){if($system=="email-write"){$system="email"}if(!arrowClicked){var found=false;for(i=0;i<guides.length;i++){if(guides[i].system==$system){this.setCurrentIndex(i);found=true;break}}if(!found){this.setCurrentIndex(-1)}}};this.setIndex=function($index){currentIndex=$index};this.setCurrentIndex=function($currentIndex,$update){currentIndex=$currentIndex;this.update()};this.next=function(){arrowClicked=true;if(currentIndex==guideCount-1){currentIndex=0}else{currentIndex++}this.update();arrowClicked=false};this.prev=function(){arrowClicked=true;if(currentIndex==0){currentIndex=guideCount-1}else{currentIndex--}this.update();arrowClicked=false};this.update=function(){$("#tour-guide .guide-container").hide();if(currentIndex==-1){$("#tour-guide .welcome").show()}else{var _this=guides[currentIndex];var id=_this.appid;var name=_this.name;var title=_this.name;var url=_this.url;var icon=_this.icon;var sonMenu=undefined;if(sonMenu==undefined){sonMenu="[]"}var jsonSonMenu=eval("("+sonMenu+")");Windows.showWindowDesk();Windows.openApp(id,title,url,icon,jsonSonMenu,_this.width,_this.height);$("#tour-guide ."+guides[currentIndex].system).show();$("#tour-guide .prev-button").show();$("#tour-guide .next-button").show()}}};